{
    "$schema": "https://hbidvanalyticsweb.z20.web.core.windows.net/schema/processPayload/schema/payload.schema.json",
    "processId": 30056,
    "parentProcessId": null,
    "displayName": "MexicoGsvExtractGl_SourceToStage",
    "processType": "Data",
    "dataFactoryInstance": "01",
    "pipelineName": "common_driver_netapp_to_stage_wildcard",
    "isActive": true,
    "configurationPayload": {
        "processPayload": [
            {
                "processSystem": "dataFactory",
                "processType": "copy",
                "label": "Source -> Raw Ingest",
                "processConfig": {
                    "logging": true,
                    "loggingPath": "raw/Finance/Mexico/MVX/GSVExtractGL/Log/"
                }
            },
            {
                "processSystem": "dataFactory",
                "processType": "dataFlow",
                "label": "Raw Ingest -> Raw Archive",
                "processConfig": {
                    "computeType": "General purpose",
                    "runInParallel": false,
                    "continueAfterSinkError": false,
                    "targetPartitionSize": 128
                }
            },
            {
                "processSystem": "databricks",
                "processType": "notebook",
                "label": "Raw Ingest -> Staging Ingest",
                "processConfig": {
                    "notebookPath": "/Common/DataPlatform/Workflows/Pipelines/Staging/Common/common_raw_ingest_to_staging_ingest",
                    "linkedService": {
                        "jobComplexity": "simple",
                        "jobSize": "small",
                        "clusterConfig": {
                            "workerType": "Standard_F4s",
                            "workers": "4",
                            "driverType": "Standard_F4s"
                        }
                    }
                }
            },
            {
                "processSystem": "databricks",
                "processType": "notebook",
                "label": "Staging Ingest -> Staging Archive",
                "processConfig": {
                    "notebookPath": "/Common/DataPlatform/Workflows/Pipelines/Staging/Common/common_staging_ingest_to_archive",
                    "linkedService": {
                        "jobComplexity": "simple",
                        "jobSize": "small",
                        "clusterConfig": {
                            "workerType": "Standard_F4s",
                            "workers": "4",
                            "driverType": "Standard_F4s"
                        }
                    }
                }
            }
        ],
        "dataPayload": [
            {
                "dataSystem": "dataFactory",
                "type": "csv",
                "label": "Source File",
                "config": {
                    "directory": "Finance/GL_Finance/Mexico",
                    "file": "*.csv",
                    "log": "raw/Finance/Mexico/MVX/GSVExtractGL/Log/",
                    "columnDelimiter": ",",
                    "header": true
                }
            },
            {
                "dataSystem": "dataFactory",
                "type": "csv",
                "label": "Raw Ingest",
                "config": {
                    "container": "raw",
                    "directory": "Finance/Mexico/MVX/GSVExtractGL/Ingest",
                    "file": "",
                    "log": "raw/Finance/Mexico/MVX/GSVExtractGL/Log/",
                    "columnDelimiter": ",",
                    "header": true
                }
            },
            {
                "dataSystem": "dataFactory",
                "type": "csv",
                "label": "Raw Archive",
                "config": {
                    "container": "raw",
                    "directory": "Finance/Mexico/MVX/GSVExtractGL/Archive",
                    "file": "*.csv",
                    "log": "raw/Finance/Mexico/MVX/GSVExtractGL/Log/",
                    "columnDelimiter": ",",
                    "header": true
                }
            },
            {
                "dataSystem": "databricks",
                "label": "Raw Ingest Source",
                "dataSource": "csv",
                "dataConfig": {
                    "entityName": "GSVExtractGL",
                    "path": "/mnt/raw/Finance/Mexico/MVX/GSVExtractGL/Ingest/@@Year@@/@@Month@@/@@Day@@/*.csv",
                    "options": {
                        "inferSchema": "True",
                        "header": "True",
                        "dateFormat": "yyyy-MM-dd",
                        "timestampFormat": "yyyy-MM-dd HH:mm:ss.SSSSSSS",
                        "sep": ","
                    }
                }
            },
            {
                "label": "Staging Ingest Sink",
                "dataSystem": "databricks",
                "dataSource": "delta",
                "dataConfig": {
                    "path": "/mnt/stage/Finance/Mexico/MVX/GSVExtractGL/Ingest",
                    "mode": "overwrite",
                    "options": {
                        "overwriteSchema": true
                    }
                }
            },
            {
                "label": "Staging Archive Sink",
                "dataSystem": "databricks",
                "dataSource": "delta",
                "dataConfig": {
                    "path": "/mnt/stage/Finance/Mexico/MVX/GSVExtractGL/Archive",
                    "mergeColumns": [
                        "Key",
						"Year",
						"Period"
                    ]
                }
            }
        ]
    }
}