{
    "$schema": "https://hbidvanalyticsweb.z20.web.core.windows.net/schema/processPayload/schema/payload.schema.json",
    "processId": 20004,
    "parentProcessId": null,
    "displayName": "FGInventoryAvailability_Netapp_to_Stage",
    "processType": "Data",
    "dataFactoryInstance": "01",
    "pipelineName": "common_driver_netapp_to_stage_wildcard",
    "isActive": true,
    "configurationPayload": {
        "processPayload": [
            {
                "processSystem": "dataFactory",
                "processType": "copy",
                "label": "Source -> Raw Ingest",
                "processConfig": {
                    "logging": true,
                    "loggingPath": "raw/Inventory/US/SAP/FGInventoryAvailability/Log/"
                }
            },
            {
                "processSystem": "dataFactory",
                "processType": "dataFlow",
                "label": "Raw Ingest -> Raw Archive",
                "processConfig": {
                    "computeType": "General purpose",
                    "runInParallel": false,
                    "continueAfterSinkError": false,
                    "targetPartitionSize": 128
                }
            },
            {
                "processSystem": "databricks",
                "processType": "notebook",
                "label": "Raw Ingest -> Staging Ingest",
                "processConfig": {
                    "notebookPath": "/Common/01/Workflows/Pipelines/Staging/FGInventoryAvailability/raw_ingest_to_staging_ingest",
                    "linkedService": {
                        "jobComplexity": "simple",
                        "jobSize": "small",
                        "clusterConfig": {
                            "workerType": "Standard_F4s",
                            "workers": "4",
                            "driverType": "Standard_F4s"
                        }
                    }
                }
            },
            {
                "processSystem": "databricks",
                "processType": "notebook",
                "label": "Staging Ingest -> Staging Archive",
                "processConfig": {
                    "notebookPath": "/Common/DataPlatform/Workflows/Pipelines/Staging/Common/common_staging_ingest_to_archive",
                    "linkedService": {
                        "jobComplexity": "simple",
                        "jobSize": "small",
                        "clusterConfig": {
                            "workerType": "Standard_F4s",
                            "workers": "4",
                            "driverType": "Standard_F4s"
                        }
                    }
                }
            }
        ],
        "dataPayload": [
            {
                "dataSystem": "dataFactory",
                "type": "csv",
                "label": "Source File",
                "config": {
                    "directory": "SupplyChain",
                    "file": "ZSAPBW_AZ_ATP_INVENTORY.csv",
                    "log": "raw/Inventory/US/SAP/FGInventoryAvailability/Log/",
                    "columnDelimiter": "|",
                    "header": false
                }
            },
            {
                "dataSystem": "dataFactory",
                "type": "csv",
                "label": "Raw Ingest",
                "config": {
                    "container": "raw",
                    "directory": "Inventory/US/SAP/FGInventoryAvailability/Ingest",
                    "file": "",
                    "log": "raw/Inventory/US/SAP/FGInventoryAvailability/Log/",
                    "columnDelimiter": "|",
                    "header": false
                }
            },
            {
                "dataSystem": "dataFactory",
                "type": "csv",
                "label": "Raw Archive",
                "config": {
                    "container": "raw",
                    "directory": "Inventory/US/SAP/FGInventoryAvailability/Archive",
                    "file": "ZSAPBW_AZ_OPEN_SALES_CONDITIONS.csv",
                    "log": "raw/Inventory/US/SAP/FGInventoryAvailability/Log/",
                    "columnDelimiter": "|",
                    "header": true
                }
            },
            {
                "dataSystem": "databricks",
                "label": "Raw Ingest Source",
                "dataSource": "csv",
                "dataConfig": {
                    "entityName": "FGInventoryAvailability",
                    "path": "/mnt/raw/Inventory/US/SAP/FGInventoryAvailability/Ingest/@@Year@@/@@Month@@/@@Day@@/*.csv",
                    "options": {
                        "header": "False",
                        "dateFormat": "yyyy-MM-dd",
                        "timestampFormat": "yyyy-MM-dd HH:mm:ss.SSSSSSS",
                        "sep": "|"
                    }
                }
            },
            {
                "label": "Staging Ingest Sink",
                "dataSystem": "databricks",
                "dataSource": "delta",
                "dataConfig": {
                    "path": "/mnt/stage/Inventory/US/SAP/FGInventoryAvailability/Ingest",
                    "mode": "overwrite",
                    "options": {
                        "overwriteSchema": true
                    }
                }
            },
            {
                "label": "Staging Archive Sink",
                "dataSystem": "databricks",
                "dataSource": "delta",
                "dataConfig": {
                    "path": "/mnt/stage/Inventory/US/SAP/FGInventoryAvailability/Archive",
                    "mode": "overwrite",
                    "mergeColumns": [
                        "PLANT",
                        "MATERIAL",
                        "GRID_VALUE",
                        "ATP_DATE",
                        "STOR_LOC"
                    ]
                }
            }
        ]
    }
}